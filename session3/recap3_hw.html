<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>
<body>
    <h2>Entities legate de alte entities</h2>


    <div id="posts-here">
        <div>
            Id postare: 1
            <h3>sunt aut facere repellat provident occaecati excepturi optio reprehenderit</h3>
            <p>
                    quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto
            </p>
            <div>Posted by <span style="color: red;">1 - Leanne Graham</span></div>
            <div>
                <ul>
                    <li>id labore ex et quam laborum</li>
                    <li>quo vero reiciendis velit similique earum</li>
                </ul>
            </div>
        </div>
        <hr>
        <hr>
        
    </div>

    <script>

        $.ajax(
            {

                url: 'https://jsonplaceholder.typicode.com/users',
                success: function (user){ 
                users_ = user;
                userToHtml();  
                
                $.ajax({
                    url: 'https://jsonplaceholder.typicode.com/posts',
                    success: function (post){
                    posts_ = post;
                    postToHtml();

                    $.ajax({
                        url: 'https://jsonplaceholder.typicode.com/comments',
                        success: function (comment){ 
                        comments_ = comment;
                        commentToHtml();
                                                   }
                            });
                                            } 
                            }); 
                                        }   
            }
                ); 
              
        // https://jsonplaceholder.typicode.com/users

        // https://jsonplaceholder.typicode.com/posts

        // https://jsonplaceholder.typicode.com/comments


        var users_ = [];
        var posts_ = [];
        var comments_ = [];
        // hint: ajax - users 
            // success: ajax - posts
                // success: ajax - comments
        function postToHtml() {
            $('#posts-here').append('');
            for(var post of posts_){
                for(var user of users_){
                    if(post.userId == user.id ){
                        
                        $('#posts-here').append(`Id postare: ${post.id}<br><h3> ${post.title}</h3><br> ${post.body}<br><br> Posted by <span style = "color:red"> ${user.id} - ${user.name}</span> <br><br><hr> `)

                    }
                
                }
            
            }
        }
        function commentToHtml() {
            $('#posts-here').append('')
        }
        function userToHtml() {
            $('#posts-here').append('')
        }
    </script>
</body>
</html>